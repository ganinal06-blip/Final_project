# Проект "Даша бот"
#### *Ганина Елизавета, Меерова Мария*

В данном проекте мы создаём бота, который будет автоматически по пользователям из списка проверять их нахождение в чате. Если есть какой-то пользователь, который не состоит в списке - бот сам будет удалять их из чата/канала.

### Что будет видеть пользователь?

Пользователь взаимодействует с ботом через Telegram. При вводе команды `/start` бот будет отвечать приветственным сообщением и показывать пользовательское меню. После отправки сообщения на проверку пользователь увидит подтверждение о принятии заявки на модерацию и результат проверки. В случае блокировки бот уведомит об этом администратора.

``` sh
Примерный диалог:
Админ: /start
Бот: Привет! Я слежу за участниками чата. Пришли мне файл со списком
разрешенных пользователей.
Админ: *отправляет файл allowed.txt*
Бот: Список разрешенных пользователей обновлен: 42 записи.
*Кто-то пытается войти в группу*
Бот (администратору): Пользователь @spam_bot удалён (нет в списке разрешённых).
Админ: /clean
Бот: Проверка участников... Удалено 3 пользователей.
```

Таким образом, пользователь видит диалоговые окна с текстом от бота, кнопки меню и уведомления о статусе своих сообщений.

![img-1.png](images/img-1.png)
---

### Какие задачи необходимо выполнить?

Проект включает в себя следующие основные задачи: 

- Регистрация бота через BotFather: в Telegram есть служебный бот @BotFather, с помощью которого создаются и настраиваются все остальные боты. Необходимо через него получить API-токен нового бота

- Выбор технологий: используется Python 3.10+ и библиотека aiogram 3.x. Также понадобится СУБД или хранилище для логов или данных пользователей

- Проектирование архитектуры: спланировать структуру приложения (каталоги, модули, конфигурация) 

- Настройка окружения и зависимостей: создать requirements.txt и установить нужные пакеты (aiogram, python-dotenv для работы с .env-файлом и т.д.). Настроить переменные окружения для хранения токена бота. 

- Реализация логики бота: написать обработчики команд и сообщений. Реализовать команды модерации ( /mute , /ban , /unmute , /unban или аналоги) и проверку прав администратора. Организовать взаимодействие с админ-панелью (отправка уведомлений модератору)

- Интеграция с базой данных: предусмотреть хранение данных о заблокированных пользователях и временных ограничениях, а также логирование действий бота в чатах

- Тестирование: проверить работу бота в тестовой группе или чате, убедиться, что все команды работают корректно, ограничения применяются и снимаются

- Документация: написать документацию для проекта, описать процесс развертывания и настройки

- Развёртывание: подготовить сервер или облачный сервис и запустить бота в режиме polling или через webhook. Обеспечить работу процесса 24/7

![img-2.png](images/img-2.png)

---

### Схема архитектуры
Схема архитектуры бота-модератора. На схеме показано взаимодействие пользователя через Telegram с Telegram API, дальнейшая передача сообщений на сервер бота (реализация на aiogram), где происходит проверка и модерация. Бот взаимодействует с базой данных (для хранения логов и статусов) и с админ-панелью/чатом модераторов

![img-3.png](images/img-3.png)

---

### Сколько времени потребуется на каждую задачу?
Примерные оценки времени на выполнение задач:

| Задача                              |  Оценка времени |
| ----------------------------------- | --------------: |
| Сбор и анализ требований            |         2–3 дня |
| Проектирование архитектуры          |         1–2 дня |
| Проектирование интерфейса (UI/UX)   |         2–3 дня |
| Разработка бэкенда                  |        5–7 дней |
| Разработка фронтенда                |         3–4 дня |
| Интеграция внешних сервисов/API     |         2–3 дня |
| Тестирование                        |         3–4 дня |
| Развёртывание и запуск              |         1–2 дня |
| Написание документации и инструкций |         1–2 дня |
| Итого                           | ~2–3 недели |

---

### Кто что делает в команде?
Распределение ролей в команде: 
#### *Лиза:*
- **Команды бота**: /add_user, /remove_user, /list_users
- **Интерфейс**: кнопки, меню, сообщения
- **Работа с файлами**: загрузка и обработка списка пользователей
- **Тестирование**: интеграционные тесты и UI-тесты
- **Документация**: инструкции и описание проекта
- 
#### *Маша*
- **Команды бота**: /start, /clean, /stats
- **Логика модерации**: автоматическая проверка пользователей
- **База данных**: настройка и работа с пользователями
- **Тестирование**: unit-тесты для модерации
- **Деплой**: настройка сервера и запуск

*Общие задачи (делаем вместе)*:
- Проектирование архитектуры
- Код-ревью
- Финальное тестирование
- Настройка CI/CD

<p align="center">
  <img src="images/img-4.jpeg" width="50%">
</p>
